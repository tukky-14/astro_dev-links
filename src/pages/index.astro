---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Sidebar from '../components/Sidebar.astro';
import home from '../features/home/img/home.png';
import Menu from '../components/Menu.astro';
import { menuList } from '../features/sidebar/sidebarOptions';

const homeMenuList = menuList.filter((menu) => menu.link !== '/');
const menuLinkList = menuList.map((menu) => menu.link);
const targetMenu = menuLinkList[Math.floor(Math.random() * menuLinkList.length)];
---

<Layout>
    <div class="h-screen relative">
        <Menu />
        <Header />
        <div class="flex h-[calc(100%_-_3rem)]">
            <Sidebar />
            <main class="sm:w-5/6 flex px-6 bg-white">
                <div class="w-full pt-6 relative overflow-scroll">
                    <h3 class="text-xl mb-2 font-bold">
                        もっと深く、<br class="sm:hidden" />もっと広く開発を楽しむ
                    </h3>
                    <p class="mb-2">
                        このサイトでは開発を楽しくするために、開発に関係する学習サイト・便利サイトなどをまとめています。<br
                        />
                        どこかの誰かの役に立ちますように。
                    </p>
                    <div class="sm:flex w-full">
                        <div class="sm:hidden w-full grid grid-cols-2 gap-2 my-4">
                            {
                                homeMenuList.map(({ name, link, icon }, index) => (
                                    <a
                                        href={link}
                                        class="block h-20 pl-4 py-2 border rounded-lg bg-gray-50 hover:bg-gray-100 duration-200"
                                    >
                                        <img
                                            class="pt-1 h-7 block"
                                            src={icon}
                                            alt={`${name}のアイコン画像`}
                                        />
                                        <span class="mt-1 block">{name}</span>
                                    </a>
                                ))
                            }
                        </div>
                        <a href={targetMenu}>
                            <img
                                class="block w-full py-4 sm:w-3/5"
                                src={home}
                                alt="学習をしている画像"
                            />
                        </a>
                    </div>
                </div>
            </main>
        </div>
    </div>
</Layout>
